# v0.3.0 养护记录功能测试清单

## 测试环境
- 版本：v0.3.0
- 部署：待部署到 Railway
- 回退版本：v0.2.0

## 新功能测试

### 1. 浇水记录
- [ ] 回复 `浇水 绿萝` 是否成功记录
- [ ] 回复 `浇水` 是否提示格式错误
- [ ] 浇水不存在的植物是否提示先添加
- [ ] 多次浇水是否都能记录

### 2. 施肥记录
- [ ] 回复 `施肥 绿萝` 是否成功记录
- [ ] 回复 `施肥` 是否提示格式错误
- [ ] 施肥不存在的植物是否提示先添加

### 3. 植物详情
- [ ] 回复 `详情 绿萝` 是否显示完整信息
- [ ] 是否显示添加时间
- [ ] 是否显示最后浇水时间
- [ ] 是否显示最后施肥时间
- [ ] 是否显示最近5条养护记录
- [ ] 无养护记录时是否显示"暂无记录"

### 4. 列表增强
- [ ] 回复 `1` 查看列表
- [ ] 是否显示最后浇水时间
- [ ] 未浇水的植物是否显示"未浇水"
- [ ] 时间格式是否正确（刚刚/X小时前/X天前）

### 5. 时间显示测试
- [ ] 刚浇水显示"刚刚"
- [ ] 1小时前显示"1小时前"
- [ ] 昨天显示"昨天"
- [ ] 3天前显示"3天前"
- [ ] 超过7天显示具体日期

### 6. 数据持久化
- [ ] 养护记录是否保存
- [ ] 取消关注再关注，记录是否还在
- [ ] 多个用户的记录是否独立

### 7. 回归测试（确保旧功能正常）
- [ ] 添加植物是否正常
- [ ] 删除植物是否正常
- [ ] 查看列表是否正常
- [ ] 菜单显示是否正常

## 测试场景

### 场景 1: 完整流程
```
1. 添加 绿萝
2. 浇水 绿萝
3. 详情 绿萝（查看记录）
4. 1（查看列表，应显示浇水时间）
5. 等待1小时后再次查看（时间应变化）
```

### 场景 2: 多次养护
```
1. 添加 多肉植物
2. 浇水 多肉植物
3. 施肥 多肉植物
4. 浇水 多肉植物（第二次）
5. 详情 多肉植物（应显示3条记录）
```

### 场景 3: 错误处理
```
1. 浇水（无植物名称）
2. 浇水 不存在的植物
3. 详情 不存在的植物
```

## 预期结果

### 浇水成功响应
```
✅ 浇水记录成功！

🌱 植物：绿萝
💧 浇水时间：2026-02-09 14:30:00

回复"详情 绿萝"查看养护历史
```

### 详情显示
```
🌱 绿萝

📅 添加时间：2026-02-09
💧 浇水记录：刚刚
🌿 施肥记录：暂无记录

📋 最近养护：
💧 浇水 - 刚刚

💡 快捷操作：
浇水 绿萝
施肥 绿萝

回复 0 返回菜单
```

### 列表显示
```
🌿 我的植物（共1株）

1. 绿萝
   📅 2026-02-09
   💧 刚刚

💡 养护操作：
浇水 植物名称 - 记录浇水
施肥 植物名称 - 记录施肥
详情 植物名称 - 查看详情
```

## 部署步骤

1. 确认代码已提交到 GitHub
2. Railway 自动部署（约2-3分钟）
3. 访问 /health 确认版本为 0.3.0
4. 开始测试

## 发现问题时的处理

如果发现严重问题：
```bash
git revert HEAD
git push
```

或在 Railway 回滚到上一个部署。

## 测试完成后

- [ ] 更新 VERSION.md 标记为稳定版本
- [ ] 规划下一个 Sprint
- [ ] 提交测试报告
