# 🌱 植物养护微信公众号

## 项目简介
基于微信公众号的植物养护助手，帮助用户记录和管理植物养护过程。

## 当前版本
**v0.5.0 - AI 植物识别**

## 功能清单

### ✅ 已实现
**Sprint 1 - 基础框架**
- [x] 微信公众号接入验证
- [x] 基础服务器框架
- [x] 欢迎页面

**Sprint 2 - 消息处理**
- [x] 消息自动回复
- [x] 关键词菜单系统
- [x] 事件处理（关注/点击）

**Sprint 3.1 - 植物管理**
- [x] JSON 文件数据持久化
- [x] 添加植物功能
- [x] 查看植物列表
- [x] 删除植物功能

**Sprint 3.2 - 养护记录**
- [x] 浇水记录
- [x] 施肥记录
- [x] 植物详情查看
- [x] 养护历史显示

**Sprint 3.3 - 综合功能**
- [x] 植物分类
- [x] 养护备注
- [x] 数据统计

**Sprint 4 - AI 功能**
- [x] AI 植物识别
- [x] 智能养护建议

### 🚧 开发中（Sprint 5）
- [ ] 养护提醒
- [ ] 社区分享
- [ ] 社区分享功能

## 技术栈
- **后端**: Node.js + Express
- **前端**: HTML + CSS + JavaScript
- **部署**: Railway
- **数据存储**: JSON 文件 + Railway Volume（持久化）

## 使用指南

### 基础功能
- 回复 `0` 或 `菜单` - 显示功能菜单
- 回复 `1` 或 `我的植物` - 查看植物列表
- 回复 `2` 或 `养护知识` - 查看养护技巧
- 回复 `3` 或 `关于我们` - 查看项目信息

### 植物管理
- `添加 植物名称 类型` - 添加新植物（例如：添加 绿萝 绿植）
- `删除 植物名称` - 删除植物（例如：删除 绿萝）
- 类型可选：绿植、多肉、花卉、其他

### 养护记录
- `浇水 植物名称 备注` - 记录浇水（例如：浇水 绿萝 叶子有点黄）
- `施肥 植物名称 备注` - 记录施肥（例如：施肥 绿萝 复合肥）
- `详情 植物名称` - 查看养护历史（例如：详情 绿萝）
- 备注可选，用于记录养护情况

### 数据统计
- `统计` 或 `数据` - 查看养护统计
- 显示植物总数、浇水次数、施肥次数
- 按类型统计植物数量

### AI 功能
- 📷 **发送植物图片** - AI 自动识别植物
- `建议 植物类型` - 获取专业养护建议
- 支持类型：绿植、多肉、花卉

### 示例对话
```
用户: 添加 绿萝 绿植
系统: ✅ 添加成功！

用户: 建议 绿植
系统: 🌿 绿植养护建议：
      💧 浇水：保持土壤湿润，见干见湿
      ☀️ 光照：散射光，避免强光直射
      ...

用户: [发送植物图片]
系统: 🔍 正在识别植物...
      请稍等片刻

用户: 统计
系统: 📊 养护统计
      🌱 植物总数：1株
      💧 浇水次数：1次
```

## 部署说明

### 环境变量
```
PORT=3000
WECHAT_TOKEN=plant_care_token_2024
```

### 启动命令
```bash
npm install
npm start
```

### 健康检查
```
GET /health
```

### 微信验证接口
```
GET /wechat
```

## 微信公众号配置

1. **服务器配置**：
   - URL: `https://你的域名/wechat`
   - Token: `plant_care_token_2024`
   - 消息加解密方式: 明文模式

2. **接口权限**：
   - 订阅号（未认证）
   - 支持基础消息接收

## 开发计划

- **Sprint 1**: 基础框架 ✅
- **Sprint 2**: 消息处理 ✅
- **Sprint 3.1**: 植物管理 ✅
- **Sprint 3.2**: 养护记录 ✅
- **Sprint 3.3**: 综合功能 ✅
- **Sprint 4**: AI 功能 ✅（当前版本）
- **Sprint 5**: 社区功能（计划中）

## 版本回退

如果新版本出现问题，可以回退到稳定版本：
- v0.4.0 - 综合功能
- v0.5.0 - AI 功能（当前）

查看 VERSION.md 了解详细的版本历史和回退方法。

## 作者
lcdxiangzi

## 许可证
MIT