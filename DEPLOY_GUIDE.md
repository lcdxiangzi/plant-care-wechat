# 🚀 部署和回退指南

## 当前稳定版本
**v0.1.0** - Sprint 1 基础框架

## Git操作指南

### 创建稳定版本标签
```bash
# 在GitHub Desktop中
# 1. 确保所有更改已提交
# 2. 创建标签：Repository → Create Tag
# 3. 标签名：v0.1.0
# 4. 描述：Sprint 1 - 微信公众号接入成功
# 5. Push标签到GitHub
```

### 创建开发分支
```bash
# 在GitHub Desktop中
# 1. Branch → New Branch
# 2. 分支名：feature/user-login
# 3. 基于：main
# 4. 在此分支上开发新功能
```

### 回退到稳定版本
```bash
# 方法1：通过标签回退
# 1. Repository → Show Tags
# 2. 右键点击 v0.1.0
# 3. 选择 "Checkout"

# 方法2：通过分支回退
# 1. Branch → main
# 2. Repository → Pull
```

## Railway回退指南

### 方法1：回滚部署
1. 进入Railway项目
2. 点击 "Deployments"
3. 找到v0.1.0的部署记录
4. 点击 "Redeploy"

### 方法2：重新部署稳定版本
1. 在GitHub切换到v0.1.0标签
2. Railway会自动检测并重新部署

## 开发流程

### 添加新功能的标准流程
1. ✅ 确保当前版本稳定
2. ✅ 创建Git标签保存稳定版本
3. ✅ 创建新的开发分支
4. ✅ 在开发分支上开发新功能
5. ✅ 本地测试通过
6. ✅ 提交到开发分支
7. ✅ 合并到main分支
8. ✅ Railway自动部署
9. ✅ 验证新功能
10. ✅ 如果成功，创建新的版本标签
11. ❌ 如果失败，回退到上一个标签

## 紧急回退步骤

### 如果新版本出现严重问题：
1. **立即在Railway回滚**到上一个稳定部署
2. **在GitHub切换**到稳定版本标签
3. **通知用户**（如果需要）
4. **分析问题**，在开发分支修复
5. **重新测试**后再部署

## 测试检查清单

### 部署前必须检查：
- [ ] 健康检查接口正常
- [ ] 微信验证接口正常
- [ ] 主页能正常访问
- [ ] 新功能本地测试通过
- [ ] 没有语法错误
- [ ] 依赖包正确安装

### 部署后必须验证：
- [ ] Railway部署成功（绿色状态）
- [ ] 健康检查API返回正常
- [ ] 微信公众号功能正常
- [ ] 新功能在线上正常工作
- [ ] 查看Railway日志无错误